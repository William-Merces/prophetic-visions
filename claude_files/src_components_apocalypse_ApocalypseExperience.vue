<template>
  <ImersiveExperience
    :experience-title="experienceTitle"
    :experience-subtitle="experienceSubtitle"
    :intro-text="introText"
    :stages="stages"
    @complete="completeExperience"
  >
    <template #stage-context>
      <ContextStage />
    </template>
    <template #stage-revelation>
      <RevelationStage />
    </template>
    <template #stage-meaning>
      <MeaningStage />
    </template>
  </ImersiveExperience>
</template>

<script>
// eslint-disable-next-line vue/no-unused-components
import ImersiveExperience from './ImersiveExperience.vue'
// eslint-disable-next-line vue/no-unused-components
import ContextStage from './ContextStage.vue'
// eslint-disable-next-line vue/no-unused-components
import RevelationStage from './RevelationStage.vue'
// eslint-disable-next-line vue/no-unused-components
import MeaningStage from './MeaningStage.vue'

export default {
  name: 'ApocalypseExperience',
  components: {
    ImersiveExperience,
    ContextStage,
    RevelationStage,
    MeaningStage
  },
  data() {
    return {
      experienceTitle: 'APOCALIPSE',
      experienceSubtitle: 'As Vis√µes de Jo√£o em Patmos',
      introText: `
        <p>Bem-vindo √† jornada imersiva pelas vis√µes do Apocalipse, o √∫ltimo e mais enigm√°tico livro da B√≠blia.</p>

        <p>Voc√™ est√° prestes a entrar no mundo do ap√≥stolo Jo√£o, que, exilado na ilha de Patmos por volta do ano 95 d.C., recebeu a mais extraordin√°ria revela√ß√£o de Jesus Cristo.</p>

        <p>Esta experi√™ncia lhe permitir√°:</p>
        <ul>
          <li>Compreender o contexto hist√≥rico em que as vis√µes foram recebidas</li>
          <li>Ver e sentir as vis√µes como se voc√™ estivesse com Jo√£o</li>
          <li>Explorar o significado profundo dos s√≠mbolos e sua relev√¢ncia</li>
        </ul>

        <p>Prepare-se para uma jornada transformadora pelas vis√µes prof√©ticas que t√™m fascinado e inspirado crist√£os por dois mil√™nios.</p>
      `,
      stages: [
        {
          title: 'O Cen√°rio',
          tagline: 'Compreenda o momento hist√≥rico da revela√ß√£o',
          icon: 'üìú',
          component: ContextStage,
          coverStyle: {
            backgroundImage: 'url("/images/apocalypse/patmos-island.jpg")'
          }
        },
        {
          title: 'A Revela√ß√£o',
          tagline: 'Veja o que o profeta viu em primeira pessoa',
          icon: 'üëÅÔ∏è',
          component: RevelationStage,
          coverStyle: {
            backgroundImage: 'url("/images/apocalypse/son-of-man.jpg")'
          }
        },
        {
          title: 'O Significado',
          tagline: 'Entenda o que viu, explore os s√≠mbolos da vis√£o',
          icon: 'üîç',
          component: MeaningStage,
          coverStyle: {
            backgroundImage: 'url("/images/apocalypse/seven-lampstands-symbol.jpg")'
          }
        }
      ]
    }
  },
  methods: {
    completeExperience(completedStages) {
      // Emitir evento para o componente pai
      this.$emit('complete', {
        chapter: 'apocalypse-chapter-1',
        completedStages
      })

      // Opcional: Redirecionar para outra p√°gina ou mostrar certificado
      // this.$router.push('/apocalypse/completed')

      // Notificar o usu√°rio
      alert('Parab√©ns! Voc√™ completou a jornada pelo primeiro cap√≠tulo do Apocalipse.')
    }
  }
}
</script>
